---
title: "tryhackme: Basic pentesting"
share: false
excerpt: "Esta es una máquina que le permite practicar la piratería de aplicaciones web y la escalada de privilegios."
share: false
header:
  teaser:  /assets/images/basicPentesting/logo.png
  teaser_home_page: true
categories:
  - tryhackme
tags:
  - brute forcing 
  - hash cracking 
  - service enumeration
  - Linux Enumeration
---

Comprovamos que la maquina este iniciada correctamente enviandole un ping

```bash
❯ ping -c 1 10.10.110.104
PING 10.10.110.104 (10.10.110.104) 56(84) bytes of data.
64 bytes from 10.10.110.104: icmp_seq=1 ttl=63 time=270 ms

--- 10.10.110.104 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 270.163/270.163/270.163/0.000 ms
```

Como podemos ver, recibio el paquete enviado, ademas, mediante el ttl podemos saber que es una maquina _linux_ tambien podemos usar 
la utilidad wichSystem.py

```bash
❯ wichSystem.py 10.10.110.103

10.10.110.103 (ttl -> 63): Linux
```

# Enumeration

Iniciamos el escaneo verificando los puertos abiertos

```bash
❯ sudo nmap -p- --open --min-rate 5000 -sS -Pn -n 10.10.110.103 -oG allPorts
[sudo] password for blanco: 
Starting Nmap 7.92 ( https://nmap.org ) at 2021-12-08 08:12 -05
Nmap scan report for 10.10.110.103
Host is up (0.47s latency).
Not shown: 52560 filtered tcp ports (no-response), 12970 closed tcp ports (reset)
Some closed ports may be reported as filtered due to --defeat-rst-ratelimit
PORT     STATE SERVICE
22/tcp   open  ssh
80/tcp   open  http
139/tcp  open  netbios-ssn
445/tcp  open  microsoft-ds
8080/tcp open  http-proxy

Nmap done: 1 IP address (1 host up) scanned in 149.01 seconds
```

con la utilidad extractPorts vemos un poco mejor los puertos abiertos y nos los copia en la clipboar

```bash
❯ extractPorts allPorts
───────┬───────────────────────────────────────────────────────────────────────────────────
       │ File: extractPorts.tmp
───────┼───────────────────────────────────────────────────────────────────────────────────
   1   │ 
   2   │ [*] Extracting information...
   3   │ 
   4   │     [*] IP Address: 10.10.110.103
   5   │     [*] Open ports: 22,80,139,445,8080
   6   │ 
   7   │ [*] Ports copied to clipboard
   8   │ 
───────┴───────────────────────────────────────────────────────────────────────────────────
```

ahora vemos un poco mejor los puertos abiertos, el siguiente proceso a seguir sera, ver posible vulnerabilidades y que serivicios
corren en dichos puertos

```bash
❯ nmap -sC -sV -p22,80,139,445,8080 10.10.110.103
Starting Nmap 7.92 ( https://nmap.org ) at 2021-12-08 09:28 -05
Nmap scan report for 10.10.110.103
Host is up (0.18s latency).

PORT     STATE SERVICE     VERSION
22/tcp   open  ssh         OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 db:45:cb:be:4a:8b:71:f8:e9:31:42:ae:ff:f8:45:e4 (RSA)
|   256 09:b9:b9:1c:e0:bf:0e:1c:6f:7f:fe:8e:5f:20:1b:ce (ECDSA)
|_  256 a5:68:2b:22:5f:98:4a:62:21:3d:a2:e2:c5:a9:f7:c2 (ED25519)
80/tcp   open  http        Apache httpd 2.4.18 ((Ubuntu))
|_http-server-header: Apache/2.4.18 (Ubuntu)
|_http-title: Site doesn't have a title (text/html).
139/tcp  open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
445/tcp  open  netbios-ssn Samba smbd 4.3.11-Ubuntu (workgroup: WORKGROUP)
8080/tcp open  http        Apache Tomcat 9.0.7
|_http-favicon: Apache Tomcat
|_http-title: Apache Tomcat/9.0.7
Service Info: Host: BASIC2; OS: Linux; CPE: cpe:/o:linux:linux_kernel

Host script results:
|_clock-skew: mean: 1h39m57s, deviation: 2h53m12s, median: -3s
| smb-os-discovery: 
|   OS: Windows 6.1 (Samba 4.3.11-Ubuntu)
|   Computer name: basic2
|   NetBIOS computer name: BASIC2\x00
|   Domain name: \x00
|   FQDN: basic2
|_  System time: 2021-12-08T09:28:42-05:00
|_nbstat: NetBIOS name: BASIC2, NetBIOS user: <unknown>, NetBIOS MAC: <unknown> (unknown)
| smb2-time: 
|   date: 2021-12-08T14:28:42
|_  start_date: N/A
| smb-security-mode: 
|   account_used: guest
|   authentication_level: user
|   challenge_response: supported
|_  message_signing: disabled (dangerous, but default)
| smb2-security-mode: 
|   3.1.1: 
|_    Message signing enabled but not required

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 21.61 seconds
```

- vemos que existe una pagina web en el puerto 80

![web site](/assets/images/basic/web.png)

usando _gobuster_ encontramos un directorio y al verlo en el navegador encontramos lo siguiente:

![development](/assets/images/basic/development.png)


- al recisar el primer archivo encontramos la siguiente información, podria ser una pista para mas adelante, por si acaso,
la guardaremos

![dev](/assets/images/basic/dev.png)

- en el segundo archivo, obtenemos un poco de información muy util  
- ya sabemos que la contraseña es debil, por tanto, usaremos un diccionario que trae parrot

![j](/assets/images/basic/j.png)


